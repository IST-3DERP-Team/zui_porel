<mvc:View controllerName="zuiporel.controller.Main"
    xmlns:mvc="sap.ui.core.mvc" 
    displayBlock="true"
    xmlns="sap.m"
    xmlns:uiL="sap.ui.layout"
    xmlns:uiT="sap.ui.table"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:sfb="sap.ui.comp.smartfilterbar"
    xmlns:core="sap.ui.core"
    height="100%">

    <VBox id="vbPORel" fitContainer="true">
        <sfb:SmartFilterBar id="sfbPORel" entitySet="ZVB_3DERP_PORELFILTER" enableBasicSearch="true" search="onSearch" 
            persistencyKey="3DERP_PORelKey" filterContainerWidth="14rem" useToolbar="true" showClearOnFB="true" initialise="onSFBInitialise">
            <sfb:controlConfiguration>
                <sfb:ControlConfiguration id="filterRelCd" key="RELCD" groupId="_BASIC" label="{ddtext>/RELCD}" controlType="dropDownList" 
                    displayBehaviour="idOnly" mandatory="notMandatory">
                </sfb:ControlConfiguration>
            </sfb:controlConfiguration>
            <sfb:controlConfiguration>
                <sfb:ControlConfiguration id="filterRelGrp" key="RELGRP" groupId="_BASIC" label="{ddtext>/RELGRP}" controlType="dropDownList" 
                    displayBehaviour="idOnly" mandatory="notMandatory">
                </sfb:ControlConfiguration>
            </sfb:controlConfiguration>
            <sfb:controlConfiguration>
                <sfb:ControlConfiguration id="filterDocType" key="DOCTYPE" groupId="_BASIC" label="{ddtext>/DOCTYPE}" controlType="dropDownList" 
                    displayBehaviour="idOnly" mandatory="notMandatory">
                </sfb:ControlConfiguration>
            </sfb:controlConfiguration>
            <sfb:controlConfiguration>
                <sfb:ControlConfiguration id="filterPurchOrg" key="PURCHORG" groupId="_BASIC" label="{ddtext>/PURCHORG}" controlType="dropDownList" 
                    displayBehaviour="idAndDescription" mandatory="notMandatory">
                </sfb:ControlConfiguration>
            </sfb:controlConfiguration>
            <sfb:controlConfiguration>
                <sfb:ControlConfiguration id="filterPurchGrp" key="PURCHGRP" groupId="_BASIC" label="{ddtext>/PURCHGRP}" controlType="dropDownList" 
                    displayBehaviour="idAndDescription" mandatory="notMandatory">
                </sfb:ControlConfiguration>
            </sfb:controlConfiguration>
            <sfb:controlConfiguration>
                <sfb:ControlConfiguration id="filterVendor" key="VENDOR" groupId="_BASIC" label="{ddtext>/VENDOR}" controlType="dropDownList" 
                    displayBehaviour="idAndDescription" mandatory="notMandatory">
                </sfb:ControlConfiguration>
            </sfb:controlConfiguration>
            <sfb:controlConfiguration>
                <sfb:ControlConfiguration id="filterRelInd" key="RELIND" groupId="_BASIC" label="{ddtext>/RELIND}" controlType="dropDownList" 
                    displayBehaviour="idAndDescription" mandatory="notMandatory">
                </sfb:ControlConfiguration>
            </sfb:controlConfiguration>
            <sfb:controlConfiguration>
                <sfb:ControlConfiguration id="filterPONo" key="PONO" groupId="_BASIC" label="{ddtext>/PONO}" controlType="dropDownList" 
                    displayBehaviour="idOnly" mandatory="notMandatory">
                </sfb:ControlConfiguration>
            </sfb:controlConfiguration>
            <sfb:layoutData>
				<FlexItemData shrinkFactor="0"/>
			</sfb:layoutData>
        </sfb:SmartFilterBar>

        <uiT:Table id="poRelTab"
            class="tablePadding"
            rows="{poRel>/results}"
            visibleRowCountMode="Auto"
            showColumnVisibilityMenu="true"
            enableColumnFreeze="true"
            enableCellFilter="true"
            selectionMode="MultiToggle"
            cellClick="onCellClick"
            sort="onSorted"
            rowSelectionChange="onRowSelectionChange">
            <uiT:extension>
                <Toolbar>
                    <Text text="{ui>/rowCount} {ddtext>/ROWS}" />
                    <ToolbarSpacer/>
                    <Button id="btnReleaseSave" 
                        text="{ddtext>/RELSAVE}"
                        press="onRelease('RELEASE')"
                        visible="true"/>
                    <Button id="btnCancelReleaseSave"
                        text="{ddtext>/CRELSAVE}"
                        press="onRelease('CANCEL')"
                        visible="true"/>
                    <Button id="btnRejectSave"
                        text="{ddtext>/REJSAVE}"
                        press="onRelease('REJECT')"
                        visible="true" />
                    <Button id="btnPrintPreview"
                        text="{ddtext>/PRTPREV}"
                        press="onPrintPreview"
                        tooltip="{ddtext>/PRTPREV}"
                        visible="true" />
                    <Button id="btnExport"
                        text="{ddtext>/EXPORTTOEXCEL}"
                        tooltip="{ddtext>/EXPORTTOEXCEL}" 
                        press="onExport"
                        visible="true" />
                    <Button id="btnRefresh" 
                        icon="sap-icon://refresh"
                        press="onRefresh"
                        visible="true"/> 
                </Toolbar>
            </uiT:extension>
            <uiT:layoutData>
                <FlexItemData growFactor="1" baseSize="0%"/>
            </uiT:layoutData>
        </uiT:Table>
    </VBox>
</mvc:View>
